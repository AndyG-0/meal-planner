name: Validate Tag

on:
  push:
    tags:
      - '**'

permissions:
  contents: read

jobs:
  validate:
    runs-on: ubuntu-latest

    steps:
      - name: Validate semantic tag
        run: |
          echo "Tag: $GITHUB_REF_NAME"
          if [[ ! "$GITHUB_REF_NAME" =~ ^v[0-9]+\.[0-9]+\.[0-9]+$ ]]; then
            echo "Invalid tag name: $GITHUB_REF_NAME. Must be semantic like v1.2.3"
            exit 1
          fi
